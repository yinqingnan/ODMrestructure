(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3798caaa","chunk-748b46e1"],{"24fd":function(t,e,n){t.exports=n.p+"img/logon_logo.27528a70.png"},4415:function(t,e,n){},"4bb58":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("2fe1"),r=n("2f62"),a=l("computed",r["e"]),i=l("computed",r["c"]),c=l("methods",r["b"]),u=l("methods",r["d"]);function s(t,e){function n(e){function n(n,o){if("string"===typeof o){var r=o,a=n;return e(r,{namespace:t})(a,r)}var i=n,c=p(o||{},{namespace:t});return e(i,c)}return n}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(a),Getter:n(i),Mutation:n(u),Action:n(c)}}function l(t,e){function n(n,r){return Object(o["a"])((function(o,a){o[t]||(o[t]={});var i,c=(i={},i[a]=n,i);o[t][a]=void 0!==r?e(r,c)[a]:e(c)[a]}))}function r(t,e){if("string"===typeof e){var o=e,r=t;return n(o,void 0)(r,o)}var a=f(e),i=t;return n(i,a)}return r}function f(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}function p(t,e){var n={};return[t,e].forEach((function(t){Object.keys(t).forEach((function(e){n[e]=t[e]}))})),n}},"75a4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c}));var o=30,r=200,a=30,i=[10,20,100,200],c=["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},8360:function(t,e,n){"use strict";n("4415")},a55b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"bg"},[o("div",{staticClass:"loginbox"},[o("div",{staticClass:"loginbox_header"},[o("img",{attrs:{src:n("24fd"),alt:""}}),o("h2",[t._v(t._s(t.Title))])]),o("div",{staticClass:"loginbox_body"},[o("a-form",{attrs:{form:t.form,autocomplete:"off"},on:{submit:t.handleSubmit}},[o("a-form-item",{staticStyle:{"margin-bottom":"20px"}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入账号"},{validator:t.checkData,trigger:"blur"}]}],expression:"[\n                'username',\n                {\n                  rules: [{ required: true, message: '请输入账号' },\n                  {\n                    validator: checkData, \n                    trigger: 'blur'\n                  }]\n                }\n              ]"}],staticClass:"logininput",attrs:{maxLength:t.LimitInputlength,placeholder:"请输入账号信息"}},[o("span",{staticClass:"iconfont iconyonghuming",staticStyle:{color:"#ccc","font-size":"20px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),o("a-form-item",[o("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"},{validator:t.checkData,trigger:"blur"}]}],expression:"[\n                'password',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: '请输入密码'\n                    },\n                    {\n                       validator: checkData, \n                       trigger: 'blur'\n                    }\n                  ]\n                }\n              ]"}],staticClass:"logininput",attrs:{maxLength:t.LimitInputlength,placeholder:"请输入密码"}},[o("span",{staticClass:"iconfont iconmima",staticStyle:{color:"#ccc","font-size":"20px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),o("a-form-item",{staticStyle:{"margin-top":"14px","margin-bottom":"0"}},[o("a-checkbox",{attrs:{checked:t.checkNick},on:{change:t.handleChange}},[t._v("记住用户名")])],1),o("a-form-item",[o("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v("登录")])],1)],1)],1)])])])},r=[],a=n("9ab4"),i=n("60a3"),c=n("75a4"),u=n("afbc"),s=n("e2d8"),l=n("4bb58");function f(t){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function b(t){var e=k();return function(){var n,o=w(t);if(e){var r=w(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var x=Object(l["a"])("Menu"),O=Object(l["a"])("Tabs"),S=function(t){g(n,t);var e=b(n);function n(){var t;return p(this,n),t=e.apply(this,arguments),t.checkNick=!1,t.Login=new t.$api.configInterface.Login,t.Title="",t.LimitInputlength=c["a"],t.clearCookie=function(){t.setCookie("","",-1)},t}return d(n,[{key:"created",value:function(){this.form=this.$form.createForm(this)}},{key:"mounted",value:function(){this.gettitle(),this.getCookie(),this.cleartablist([])}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,n){t||(e.checkNick?(e.setCookie(n.username,n.password,7),e.login(n)):(e.login(n),e.clearCookie()))}))}},{key:"handleChange",value:function(t){this.checkNick=t.target.checked}},{key:"login",value:function(t){var e=this;localStorage.clear(),this.Login.login(t,!1).then((function(t){if(0==t.code){localStorage.setItem("token",t.data.accessToken),localStorage.setItem("user",JSON.stringify(t.data.user));var n=t.data.user.menus;localStorage.setItem("navlist",JSON.stringify(n)),e.addmenu(Object(s["a"])()),Object(u["b"])(),u["a"].options.routes=Object(s["a"])(),console.log(Object(s["a"])()),u["a"].addRoutes(Object(s["a"])()),e.$router.push({path:"/home"})}else e.$message.error(t.msg),e.clearCookie(),e.checkNick=!1,e.form.setFieldsValue({password:"",username:""})}))}},{key:"gettitle",value:function(){var t=this;this.Login.gettitle({},!1).then((function(e){t.Title=e.data}))}},{key:"setCookie",value:function(t,e,n){var o=new Date;o.setTime(o.getTime()+864e5*n),window.document.cookie="userName="+t+";path=/;expires="+o.toUTCString(),window.document.cookie="userPwd="+e+";path=/;expires="+o.toUTCString()}},{key:"getCookie",value:function(){var t=this;if(document.cookie.length>0){this.checkNick=!0;for(var e=document.cookie.split(";"),n=function(n){var o=e[n].split("=");console.log(o),"userName"===o[0]&&t.$nextTick((function(){t.form.setFieldsValue({username:o[1]})}))," userPwd"===o[0]&&t.$nextTick((function(){t.form.setFieldsValue({password:o[1]})}))},o=0;o<e.length;o++)n(o)}}},{key:"checkData",value:function(t,e,n){e&&(/[\u4E00-\u9FA5]/g.test(e)?n(new Error("帐号格式错误，请重新输入")):n()),n()}}]),n}(i["d"]);Object(a["a"])([x.Mutation("addmenu")],S.prototype,"addmenu",void 0),Object(a["a"])([O.Mutation("cleartablist")],S.prototype,"cleartablist",void 0),S=Object(a["a"])([i["a"]],S);var C=S,j=C,_=(n("8360"),n("2877")),N=Object(_["a"])(j,o,r,!1,null,null,null);e["default"]=N.exports}}]);